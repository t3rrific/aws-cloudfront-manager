<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      xmlns:core="http://typo3.org/ns/TYPO3/CMS/Core/ViewHelpers"
      xmlns:be="http://typo3.org/ns/TYPO3/CMS/Backend/ViewHelpers"
      data-namespace-typo3-fluid="true">

<f:layout name="Default" />
<f:section name="content">

    <f:if condition="{distributions}">
    <f:then>
        <div class="table-fit">
            <table class="table table-striped table-hover">
                <tr>
                    <th><f:translate extensionName="AwsCloudfrontManager" key="general.distributionId" /></th>
                    <th><f:translate extensionName="AwsCloudfrontManager" key="general.domainName" /></th>
                    <th><f:translate extensionName="AwsCloudfrontManager" key="general.comment" /></th>
                    <th>&nbsp;</th>
                </tr>
                <f:for each="{distributions}" as="distribution">
                    <tr data-distribution-id="{distribution.distributionId}">
                        <td class="distributionId">
                            <f:link.action action="distributionDetails" class="" arguments="{distribution: distribution}">
                                <strong>{distribution.distributionId}</strong>
                            </f:link.action>
                        </td>
                        <td class="domainName">
                            <f:if condition="{distribution.domainName}">
                            <f:then>
                                <code>{distribution.domainName}</code>
                            </f:then>
                            <f:else>
                                <i><f:translate extensionName="AwsCloudfrontManager" key="general.domainNameEmpty" /></i>
                            </f:else>
                            </f:if>
                        </td>
                        <td class="comment">
                            <f:if condition="{distribution.comment}">
                            <f:then>
                                <code>{distribution.comment}</code>
                            </f:then>
                            <f:else>
                                <i><f:translate extensionName="AwsCloudfrontManager" key="general.commentEmpty" /></i>
                            </f:else>
                            </f:if>
                        </td>
                        <td class="actions">
                            <f:link.action action="invalidation" class="btn btn-default" arguments="{distribution: distribution}">
                                <f:translate extensionName="AwsCloudfrontManager" key="button.clearCache" />
                            </f:link.action>
                            <f:link.action action="distributionDetails" class="btn btn-default" arguments="{distribution: distribution}">
                                <f:translate extensionName="AwsCloudfrontManager" key="button.details" />
                            </f:link.action>
                        </td>
                    </tr>
                </f:for>
            </table>
        </div>
    </f:then>
    <f:else>
        <p>
            Documentation at GitHub: <f:link.external uri="https://github.com/t3rrific/aws-cloudfront-manager/" target="_blank">https://github.com/t3rrific/aws-cloudfront-manager/</f:link.external>
        </p>
    </f:else>
    </f:if>

</f:section>

</html>
